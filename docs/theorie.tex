\chapter{Grundlagen}

\section{Werkzeuge}
Im folgenden beschreibe ich die Werkzeuge, die ich für die Erstellung meiner Maturaarbeit gebraucht habe.
Jedes dieser Programme ist für allen grossen Betriebssystemen verfügbar.
\subsection{Unity 3D Programmierumgebung}

Unity 3D lernte ich bereits im Alter von 11 Jahren kennen.
Damals tat ich mich sehr schwer mit der englischen Sprache, konnte aber schon dann mit der Hilfe eines Buches und meines Vaters kleinere "Spiele" programmieren.
Dazu kommmt, dass Unity im Unterschied zu anderen (teils kostenpflichtigen) Programmen sehr einfach zu handhaben ist, durch diese Einfachheit aber nichts an Optionen und Möglichkeiten einbüsst.
Deshalb habe ich mich für Unity als Programmierumgebung meiner Maturaarbeit entschieden.


Die Umgebung ist folgendermassen aufgebaut:

\begin{figure}[H]
\includegraphics[scale=0.4]{screenshots/unityide.png}
\caption{Unity Benutzeroberfläche}
\end{figure}

\paragraph{Scene View (1)}
Dieses Fenster ermöglicht das Interaktive bearbeiten von Szenen und Welten.
Man kann sich in der Spielwelt überall hin und durch alle Objekte bewegen. Um Objekte zu editieren kann man sie mit X,Y und Z Achsen positionieren,
skalieren und drehen.

\paragraph{Game View (2)}
Dieses Fenster zeigt eine Vorschau des Spiels.
Sobald Play gedrückt wird, kann man darin das Spiel spielen.
Um Veränderungen auszutesten, kann man während des Spiels pausieren, Veränderungen vornehmen und das Spiel mit diesen Veränderungen fortsetzen. Sobald der Spielvorgang durch ein zweites betätigen des Play Buttons gestoppt wird, werden die Veränderungen wieder rückgängig gemacht.

\paragraph{Hierarchy (3)}
Dieses Fenster zeigt alle in der aktuell geöffneten Szene existierenden Objekte und deren Hierarchiestruktur.

\paragraph{Inspector (4)}
Dieses Fenster zeigt alle öffentlichen Parameter und Komponenten des aktuell ausgewählten Objekts (GameObject) an.

\paragraph{Project Browser (5)}
Dieses Fenster dient der visualisierten Navigation durch die Projektdateien \textbf{(Assets)}.
Alternativ wird in diesem Bereich die Konsole angezeigt, ein Fenster mit allen Outputs, Warnungen und Fehlermeldungen.

\subsection{Blender}
Blender ist eine frei verfügbare 3D Modellierungssoftware.
3D Modelle lassen sich damit viel besser und genauer bearbeiten als mit dem Standard Unity Editor. 
Zum Beispiel wäre das Erstellen einer komplexen Blüte in Unity ohne sehr grossen Zeitaufwand nicht möglich gewesen.

\begin{figure}[H]
\includegraphics[scale=0.66]{screenshots/blenderflower.png}
\caption{3D Modell der Blume in Blender}
\end{figure}

\subsection{LaTeX}

Gemäss Vorgabe verfasste ich den schriftlichen Teil der Arbeit in LaTeX.
Als Editor verwendete ich Texmaker.

\subsection{MonoDevelop}

Scripts wurden in \textbf{MonoDevelop} entwickelt.
Diese Umgebung verfügt über einen hochwertigen Debugger, welcher die Fehlersuche zur Laufzeit stark erleichtert.

\begin{figure}[H]
\includegraphics[scale=0.5]{screenshots/monodevelop.png}
\caption{Breakpoint im MonoDevelop Debugger mit Anzeige der Variablen}
\end{figure}

\subsection{Git}

Für die Versionsverwaltung verwendete ich das weitverbreitete Programm Git.
Als Oberfläche kam Sourcetree zum Einsatz.
Dafür erstellte ich mir einen Studentzugang auf Github.
Damit wurde die Kommunikation und das schnelle Austauschen mit meiner Betreuungsperson einfacher, da man sich nicht mehr für alles treffen musste.

\subsection{astah UML}

UML Diagramme zeichnete ich mit der gratis Studentenversion von astah UML.

\section{Programmiersprache und Framework}

\subsection{C\#}
C\# ist eine objektorientierte Programmiersprache die von Microsoft entwickelt wurde.
Unity Funktioniert mit C\# und Javascript.
Letzteres kannte ich schon, also habe ich die neue gewählt, um mein Basiswissen der Informatik zu vergrössern.


\subsection{Unity Framework}
Die Funktionalitäten (Klassen, Skripts etc.) bauen auf dem von Unity für nicht kommerzielle Zwecke gratis zur Verfügung gestellten Framework auf.
Unten sind die zwei meist benutzten Basisklassen aufgeführt.

\subsubsection{Wichtigste Basisklassen}

\paragraph{GameObject}
GameObject ist die Basisklasse für alle Objekte, die auf der Benutzeroberfläche erstellt werden.
Die wichtigste Eigenschaft eines GameObjects ist \lstinline{transform}.
Dieses beinhaltet die Position,Drehung und Skalierung im Raum.
\lstinline{GetComponent<Komponentenklasse>} ist die meist benutzte Methode. 
Sie liefert die Komponente z.B. das Kollisionsobjekt oder Skripts des GameObjects. 

\paragraph{MonoBehavior}

MonoBehavior ist die Basisklasse wenn ein GameObject mit einem Skript erweitert wird.
Die zwei geerbten Methoden die standardmässig überschrieben werden sind:
\lstinline{Start()} wird zu Laufzeitbeginn ein mal aufgerufen.
Es wird benutzt um Initialisierungen durchzuführen.

\lstinline{Update()} wird jedes Mal aufgerufen bevor ein neues Bild des Spiels berechnet wird. Darin werden Elemente wie Bewegungen fortlaufend aktualisiert.
\subsection{Physik}

\subsubsection{Rigidbody}
Jedes GameObject, auf welche sich Physikalische Kräfte wie Gravitation auswirken besitzt einen Rigidbody.
\begin{figure}[H]
\includegraphics[scale=1]{screenshots/rigidbody.png}
\caption{Rigidbodykomponente}
\end{figure}
Hier wird die Masse des Players auf 1 festgelegt. Dies wird z.B. beim berechnen des Springens verwendet.

\subsubsection{Kollisionen}
\label{subsubsec:collider}
Die Kollisionserkennung ist einer der wichtigsten Bestandteile eines Spiels. Sie werden nicht nur für die Geltendmachung eines Treffers verwendet sondern sie entscheidet auch, wann z.B. ein Element im Sichtfeld eines Spielers ist oder nicht.
Die Hauptkomponente für das Feststellen einer Kollision ist der Collider.
Dessen Umrisse werden in der IDE definiert.
\begin{figure}[H]
\includegraphics[scale=0.8]{screenshots/katanacollider.png}
\caption{Kollisionskomponente des Katanas}
\end{figure}
Hier sieht man den Collider in Grün. Man sieht dass er nicht die ganze Waffe abdeckt, da nur die Klinge als Trefferzone gelten soll.

Um diese Kollision einem Skript zu übermitteln gibt es zwei Methodengruppen.
OnCollision: OnColision wird ausgelöst, sobald ein Physikalischer Treffer zwischen zwei Körpern festgestellt wird.
OnTrigger: OnTrigger wird ausgelöst, wenn ein designierter Collider getroffen wird. Dieser muss hierbei nicht zwischen zwei Körpern stattfinden, sondern z.B. bei einem Treffer einer Vektorabfrage (\cref{subsubsec:interactibleobject})

\section{Glossar}

Im Folgenden möchte ich die wichtigsten Fachbegriffe kurz erläutern. \footfullcite{unity3dglossary}

\paragraph{Game-Engine}
Ein spezielles Programm, welches die grundlegende Funktionalität für den Ablauf und die Steuerung des Spieles zur Verfügung stellt.



